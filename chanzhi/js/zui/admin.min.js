/*!
 * ZUI - v1.4.0 - 2016-05-25
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2016 cnezsoft.com; Licensed MIT
 */

!function(e,t){"use strict";var n,a=0,i='<div class="messager messager-{type} {placement}" id="messager{id}" style="display:none"><div class="messager-content"></div><div class="messager-actions"><button type="button" class="close action">&times;</button></div></div>',o={type:"default",placement:"top",time:4e3,parent:"body",icon:null,close:!0,fade:!0,scale:!0},s=function(t,n){var s=this;s.id=a++,n=s.options=e.extend({},o,n),s.message=(n.icon?'<i class="icon-'+n.icon+' icon"></i> ':"")+t,s.$=e(i.format(n)).toggleClass("fade",n.fade).toggleClass("scale",n.scale).attr("id","messager-"+s.id),n.close?s.$.on("click",".close",function(){s.hide()}):s.$.find(".close").remove(),s.$.find(".messager-content").html(s.message),s.$.data("zui.messager",s)};s.prototype.show=function(a){var i=this,o=this.options;n&&(n.id==i.id?i.$.removeClass("in"):n.isShow&&n.hide()),i.hiding&&(clearTimeout(i.hiding),i.hiding=null),a&&(i.message=(o.icon?'<i class="icon-'+o.icon+' icon"></i> ':"")+a,i.$.find(".messager-content").html(i.message)),i.$.appendTo(o.parent).show(),("top"===o.placement||"bottom"===o.placement||"center"===o.placement)&&i.$.css("left",(e(t).width()-i.$.width()-50)/2),("left"===o.placement||"right"===o.placement||"center"===o.placement)&&i.$.css("top",(e(t).height()-i.$.height()-50)/2),i.$.addClass("in"),o.time&&(i.hiding=setTimeout(function(){i.hide()},o.time)),i.isShow=!0,n=i},s.prototype.hide=function(){var e=this;e.$.hasClass("in")&&(e.$.removeClass("in"),setTimeout(function(){e.$.remove()},200)),e.isShow=!1};var r=function(e,t){"string"==typeof t&&(t={type:t});var n=new s(e,t);return n.show(),n},l=function(){e(".messager").each(function(){var t=e(this).data("zui.messager");t&&t.hide&&t.hide()})},d=function(e){return"string"==typeof e?{placement:e}:e};e.zui({Messager:s,showMessager:r,messager:{show:r,hide:l,primary:function(t,n){return r(t,e.extend({type:"primary"},d(n)))},success:function(t,n){return r(t,e.extend({type:"success",icon:"ok-sign"},d(n)))},info:function(t,n){return r(t,e.extend({type:"info",icon:"info-sign"},d(n)))},warning:function(t,n){return r(t,e.extend({type:"warning",icon:"warning-sign"},d(n)))},danger:function(t,n){return r(t,e.extend({type:"danger",icon:"exclamation-sign"},d(n)))},important:function(t,n){return r(t,e.extend({type:"important"},d(n)))},special:function(t,n){return r(t,e.extend({type:"special"},d(n)))}}})}(jQuery,window),function(e,t,n){"$:nomunge";function a(){i=t[r](function(){o.each(function(){var t=e(this),n=t.width(),a=t.height(),i=e.data(this,d);(n!==i.w||a!==i.h)&&t.trigger(l,[i.w=n,i.h=a])}),a()},s[f])}var i,o=e([]),s=e.resize=e.extend(e.resize,{}),r="setTimeout",l="resize",d=l+"-special-event",f="delay",c="throttleWindow";s[f]=250,s[c]=!0,e.event.special[l]={setup:function(){if(!s[c]&&this[r])return!1;var t=e(this);o=o.add(t),e.data(this,d,{w:t.width(),h:t.height()}),1===o.length&&a()},teardown:function(){if(!s[c]&&this[r])return!1;var t=e(this);o=o.not(t),t.removeData(d),o.length||clearTimeout(i)},add:function(t){function a(t,a,o){var s=e(this),r=e.data(this,d)||{};r.w=a!==n?a:s.width(),r.h=o!==n?o:s.height(),i.apply(this,arguments)}if(!s[c]&&this[r])return!1;var i;return e.isFunction(t)?(i=t,a):(i=t.handler,void(t.handler=a))}}}(jQuery,this),+function(e,t,n,a){"use strict";var i=function(t,n){this.$=e(t),this.options=this.getOptions(n),this.init()};i.DEFAULTS={selector:"li, div",dragCssClass:"invisible"},i.prototype.getOptions=function(t){return t=e.extend({},i.DEFAULTS,this.$.data(),t)},i.prototype.init=function(){this.bindEventToList(this.$.children(this.options.selector))},i.prototype.reset=function(){var t=this,n=this.$.children(this.options.selector).not(".drag-shadow");n.each(function(){var a=e(this);return a.data("zui.droppable")?(a.data("zui.droppable").options.target=n,void a.droppable("reset")):(t.bindEventToList(n),!1)})},i.prototype.bindEventToList=function(t){function n(t){var n=[];t.each(function(){var t=e(this).data("order");"number"==typeof t&&n.push(t)}),n.sort(function(e,t){return e-t});for(var a=t.length;n.length<a;)n.push(n.length?n[n.length-1]+1:0);o&&n.reverse();var i=0;t.each(function(){e(this).attr("data-order",n[i++])})}var a=this.$,i=this.options,o=i.reverse;n(t),t.droppable({trigger:i.trigger,target:a.children(i.selector),container:a,always:i.always,flex:!0,before:i.before,start:function(t){i.dragCssClass&&t.element.addClass(i.dragCssClass),e.zui.callEvent(i.start)},drag:function(t){if(a.addClass("sortable-sorting"),t.isIn){var s=t.element,r=t.target,l=s.attr("data-order"),d=r.attr("data-order");if(l==d)return;l>d?r[o?"after":"before"](s):r[o?"before":"after"](s);var f=a.children(i.selector).not(".drag-shadow");n(f),e.zui.callEvent(i.order,{list:f,element:s})}},finish:function(t){i.dragCssClass&&t.element&&t.element.removeClass(i.dragCssClass),e.zui.callEvent(i.finish,{list:a.children(i.selector),element:t.element}),a.removeClass("sortable-sorting")}})},e.fn.sortable=function(t){return this.each(function(){var n=e(this),a=n.data("zui.sortable"),o="object"==typeof t&&t;a?"object"==typeof t&&a.reset():n.data("zui.sortable",a=new i(this,o)),"string"==typeof t&&a[t]()})},e.fn.sortable.Constructor=i}(jQuery,window,document,Math),function(e,t,n){"use strict";var a=function(t,n){this.$=e(t),this.options=this.getOptions(n),this.init()};a.DEFAULTS={container:"body",deviation:5,sensorOffsetX:0,sensorOffsetY:0},a.prototype.getOptions=function(t){return t=e.extend({},a.DEFAULTS,this.$.data(),t)},a.prototype.callEvent=function(t,n){return e.zui.callEvent(this.options[t],n,this)},a.prototype.init=function(){this.handleMouseEvents()},a.prototype.handleMouseEvents=function(){var a=this.$,i=this,o=this.options,s="before";this.$triggerTarget=o.trigger?(e.isFunction(o.trigger)?o.trigger(a):a.find(o.trigger)).first():a,this.$triggerTarget.on("mousedown",function(r){function l(t){var s={left:t.pageX,top:t.pageY};if(!(n.abs(s.left-y.left)<o.deviation&&n.abs(s.top-y.top)<o.deviation)){if(null===u){var r=g.css("position");"absolute"!=r&&"relative"!=r&&"fixed"!=r&&(c=r,g.css("position","relative")),u=a.clone().removeClass("drag-from").addClass("drag-shadow").css({position:"absolute",width:a.outerWidth(),transition:"none"}).appendTo(g),a.addClass("dragging"),i.callEvent("start",{event:t,element:a})}var l={left:s.left-C.left,top:s.top-C.top},d={left:l.left-w.left,top:l.top-w.top};u.css(d),z.left=s.left,z.top=s.top;var f=!1;v=!1,o.flex||p.removeClass("drop-to");var b=null;if(p.each(function(){var t=e(this),n=t.offset(),a=t.outerWidth(),i=t.outerHeight(),r=n.left+o.sensorOffsetX,l=n.top+o.sensorOffsetY;return s.left>r&&s.top>l&&s.left<r+a&&s.top<l+i&&(b&&b.removeClass("drop-to"),b=t,!o.nested)?!1:void 0}),b){v=!0;var $=b.data("id");a.data("id")!=$&&(m=!1),(null===h||h.data("id")!==$&&!m)&&(f=!0),h=b,o.flex&&p.removeClass("drop-to"),h.addClass("drop-to")}o.flex?null!==h&&h.length&&(v=!0):(a.toggleClass("drop-in",v),u.toggleClass("drop-in",v)),i.callEvent("drag",{event:t,isIn:v,target:h,element:a,isNew:f,selfTarget:m,clickOffset:C,offset:l,position:{left:l.left-w.left,top:l.top-w.top},mouseOffset:s}),t.preventDefault()}}function d(n){if(c&&g.css("position",c),null===u)return a.removeClass("drag-from"),e(t).unbind("mousemove",l).unbind("mouseup",d),void i.callEvent("always",{event:n,cancel:!0});v||(h=null);var o=!0,s={left:n.pageX,top:n.pageY},r={left:s.left-C.left,top:s.top-C.top},f={left:s.left-z.left,top:s.top-z.top};z.left=s.left,z.top=s.top;var b={event:n,isIn:v,target:h,element:a,isNew:!m&&null!==h,selfTarget:m,offset:r,mouseOffset:s,position:{left:r.left-w.left,top:r.top-w.top},lastMouseOffset:z,moveOffset:f};o=i.callEvent("beforeDrop",b),o&&v&&i.callEvent("drop",b),e(t).unbind("mousemove",l).unbind("mouseup",d),p.removeClass("drop-to"),a.removeClass("dragging").removeClass("drag-from"),u.remove(),i.callEvent("finish",b),i.callEvent("always",b),n.preventDefault()}if(o.hasOwnProperty(s)&&e.isFunction(o[s])){var f=o[s]({event:r,element:a});if(void 0!==f&&!f)return}var c,p=e.isFunction(o.target)?o.target(a):e(o.target),h=null,u=null,g=e(o.container).first(),v=!1,m=!0,b=a.offset(),y={left:r.pageX,top:r.pageY},w=g.offset(),C={left:y.left-b.left,top:y.top-b.top},z={left:y.left,top:y.top};a.addClass("drag-from"),e(t).bind("mousemove",l).bind("mouseup",d),r.preventDefault()})},a.prototype.reset=function(){this.$triggerTarget.off("mousedown"),this.handleMouseEvents()},e.fn.droppable=function(t){return this.each(function(){var n=e(this),i=n.data("zui.droppable"),o="object"==typeof t&&t;i||n.data("zui.droppable",i=new a(this,o)),"string"==typeof t&&i[t]()})},e.fn.droppable.Constructor=a}(jQuery,document,Math),function(e,t){"use strict";function n(e,n,a,i){return t.abs((a-e)*(i-n))}function a(e,t,n,a,i,o){return e>=n&&i>=e&&t>=a&&o>=t}function i(e,i,o,s,r,l,d,f){var c=t.max(e,r),p=t.max(i,l),h=t.min(o,d),u=t.min(s,f);return a(c,p,e,i,o,s)&&a(h,u,e,i,o,s)&&a(c,p,r,l,d,f)&&a(h,u,r,l,d,f)?n(c,p,h,u):0}var o=function(t,n){this.$=e(t),this.options=this.getOptions(n),this.draggable=this.$.hasClass("dashboard-draggable")||this.options.draggable,this.init()};o.DEFAULTS={height:360,shadowType:"normal",sensitive:!1,circleShadowSize:100,onlyRefreshBody:!0,resizable:!0,resizeMessage:!0},o.prototype.getOptions=function(t){return t=e.extend({},o.DEFAULTS,this.$.data(),t)},o.prototype.handleRemoveEvent=function(){var t=this.options.afterPanelRemoved,n=this.options.panelRemovingTip;this.$.on("click",".remove-panel",function(){var a=e(this).closest(".panel"),i=a.data("name")||a.find(".panel-heading").text().replace("\n","").replace(/(^\s*)|(\s*$)/g,""),o=a.attr("data-id");(void 0===n||confirm(n.format(i)))&&(a.parent().remove(),t&&e.isFunction(t)&&t(o))})},o.prototype.handleRefreshEvent=function(){var t=this,n=this.options.onlyRefreshBody;this.$.on("click",".refresh-panel",function(){var a=e(this).closest(".panel");t.refresh(a,n)})},o.prototype.handleDraggable=function(){var a=this.$,o=this.options,s="circle"===o.shadowType,r=o.circleShadowSize,l=r/2,d=o.afterOrdered;this.$.addClass("dashboard-draggable"),this.$.on("mousedown",".panel-actions, .drag-disabled",function(e){e.stopPropagation()});var f;this.$.on("mousedown",".panel-heading, .panel-drag-handler",function(c){function p(a){var s=x.data("mouseOffset");g=a.pageX-s.x,v=a.pageY-s.y,m=g+F,b=v+R,x.css({left:g,top:v}),E.find(".dragging-in").removeClass("dragging-in"),C=!1,w=null;var r,l=0;E.children(":not(.dragging-col)").each(function(){var s=e(this);if(s.hasClass("dragging-col-holder"))return C=!o.sensitive||100>l,!0;var d=s.children(".panel"),f=d.offset(),c=d.width(),p=d.height(),h=f.left,u=f.top;if(o.sensitive)h-=D.left,u-=D.top,r=i(g,v,m,b,h,u,h+c,u+p),r>100&&r>l&&r>t.min(n(g,v,m,b),n(h,u,h+c,u+p))/3&&(l=r,w=s);else{var y=a.pageX,z=a.pageY;if(y>h&&z>u&&h+c>y&&u+p>z)return w=s,!1}}),w&&(y&&clearTimeout(y),z=w,y=setTimeout(h,50)),a.preventDefault()}function h(){z&&(z.addClass("dragging-in"),C?O.insertAfter(z):O.insertBefore(z),a.addClass("dashboard-holding"),y=null,z=null)}function u(t){y&&clearTimeout(y);var n=$.data("order");$.parent().insertAfter(O);var i=0,o={};E.children(":not(.dragging-col-holder)").each(function(){var t=e(this).children(".panel");t.data("order",++i),o[t.data("id")||t.attr("id")]=i,t.parent().attr("data-order",i)}),n!=o[$.data("id")||$.attr("id")]&&(E.data("orders",o),d&&e.isFunction(d)&&d(o)),x.remove(),a.removeClass("dashboard-holding"),a.find(".dragging-col").removeClass("dragging-col"),a.find(".panel-dragging").removeClass("panel-dragging"),E.find(".dragging-in").removeClass("dragging-in"),a.removeClass("dashboard-dragging"),e(document).unbind("mousemove",p).unbind("mouseup",u),t.preventDefault()}var g,v,m,b,y,w,C,z,$=e(this).closest(".panel"),T=$.parent(),E=$.closest(".row"),x=$.clone().addClass("panel-dragging-shadow"),P=$.offset(),D=a.offset(),O=E.find(".dragging-col-holder"),F=$.width(),R=$.height();O.length||(O=e('<div class="dragging-col-holder"><div class="panel"></div></div>').removeClass("dragging-col").appendTo(E)),f&&O.removeClass(f),O.addClass(f=T.attr("class")),O.insertBefore(T).find(".panel").replaceWith($.clone().addClass("panel-dragging panel-dragging-holder")),a.addClass("dashboard-dragging"),$.addClass("panel-dragging").parent().addClass("dragging-col"),x.css({left:P.left-D.left,top:P.top-D.top,width:F,height:R}).appendTo(a).data("mouseOffset",{x:c.pageX-P.left+D.left,y:c.pageY-P.top+D.top}),s&&(x.addClass("circle"),setTimeout(function(){x.css({left:c.pageX-D.left-l,top:c.pageY-D.top-l,width:r,height:r}).data("mouseOffset",{x:D.left+l,y:D.top+l})},100)),e(document).bind("mousemove",p).bind("mouseup",u),c.preventDefault()})},o.prototype.handlePanelPadding=function(){this.$.find(".panel-body > table, .panel-body > .list-group").parent().addClass("no-padding")},o.prototype.handlePanelHeight=function(){var n=this.options.height;this.$.children(".row").each(function(){var a=e(this),i=a.find(".panel"),o=a.data("height")||n;"number"!=typeof o&&(o=0,i.each(function(){o=t.max(o,e(this).innerHeight())})),i.css("height",o)})},o.prototype.handleResizeEvent=function(){var n=this.options.onResize,a=this.options.resizeMessage;this.$.on("mousedown",".resize-handle",function(i){var o=e(this).parent().addClass("resizing"),s=o.closest(".row"),r=i.pageX,l=o.width(),d=s.width(),f=t.round(12*l/d),c=f;o.attr("data-grid",f);var p=function(n){var i=n.pageX,s=t.max(1,t.min(12,t.round(12*(l+(i-r))/d)));c!=s&&(o.attr("data-grid",s).css("width",100*s/12+"%"),a&&e.zui.messager&&e.zui.messager.show(t.round(100*s/12)+"% ("+s+"/12)",{scale:!1,placement:"center",icon:"resize-h",fade:!1,close:!1}),c=s),n.preventDefault(),n.stopPropagation()},h=function(i){e.zui.messager&&e.zui.messager.hide(),o.removeClass("resizing");var s=o.attr("data-grid");if(f!=s&&e.isFunction(n)){var r=function(){o.attr("data-grid",f).css("width",null)},l=n({element:o,old:f,grid:s,revert:r});l===!1?r():l!==!0&&a&&e.zui.messager&&e.zui.messager.success(t.round(100*s/12)+"% ("+s+"/12)",{placement:"center",time:1e3,close:!1})}e("body").off("mousemove.resize",p).off("mouseup.resize",h),i.preventDefault(),i.stopPropagation()};e("body").on("mousemove.resize",p).on("mouseup.resize",h),i.preventDefault(),i.stopPropagation()}).children(".row").children(":not(.dragging-col-holder)").append('<div class="resize-handle"><i class="icon icon-resize-h"></i></div>')},o.prototype.refresh=function(t,n){var a=this.options.afterRefresh;t=e(t);var i=t.data("url");i&&(t.addClass("panel-loading").find(".panel-heading .icon-refresh,.panel-heading .icon-repeat").addClass("icon-spin"),e.ajax({url:i,dataType:"html"}).done(function(i){var o=e(i);o.hasClass("panel")?t.empty().append(o.children()):n?t.find(".panel-body").empty().html(i):t.html(i),e.isFunction(a)&&a.call(this,{result:!0,data:i})}).fail(function(){t.addClass("panel-error"),e.isFunction(a)&&a.call(this,{result:!1})}).always(function(){t.removeClass("panel-loading"),t.find(".panel-heading .icon-refresh,.panel-heading .icon-repeat").removeClass("icon-spin")}))},o.prototype.init=function(){var t=this.options,n=this;if(t.data){var a=e('<div class="row"/>');e.each(t.data,function(t,n){var i=e('<div class="col-sm-'+(n.colWidth||4)+'"/>',n.colAttrs),o=e('<div class="panel" data-id="'+(n.id||e.zui.uuid())+'"/>',n.panelAttrs);if(void 0!==n.content)if(e.isFunction(n.content)){var s=n.content(o);s!==!0&&o.html(s)}else o.html(n.content);a.append(i.append(o.data("url",n.url)))}),n.$.append(a)}n.handlePanelHeight(),n.handlePanelPadding(),n.handleRemoveEvent(),n.handleRefreshEvent(),t.resizable&&n.handleResizeEvent(),n.draggable&&n.handleDraggable();var i=0;n.$.find(".panel").each(function(){var a=e(this);a.data("order",++i),a.attr("id")||a.attr("id","panel"+i),a.attr("data-id")||a.attr("data-id",i),n.refresh(a,t.onlyRefreshBody)})},e.fn.dashboard=function(t){return this.each(function(){var n=e(this),a=n.data("zui.dashboard"),i="object"==typeof t&&t;a||n.data("zui.dashboard",a=new o(this,i)),"string"==typeof t&&a[t]()})},e.fn.dashboard.Constructor=o}(jQuery,Math),function(e){"use strict";var t=0,n=["primary","red","yellow","green","blue","purple","brown","dark"],a={primary:"#3280fc",secondary:"#145ccd",pale:"#ebf2f9",fore:"#353535",back:"#fff",grayDarker:"#222222",grayDark:"#333333",gray:"#808080",grayLight:"#dddddd",grayLighter:"#e5e5e5",grayPale:"#f1f1f1",white:"#fff",black:"#000",red:"#ea644a",yellow:"#f1a325",green:"#38b03f",blue:"#03b8cf",purple:"#8666b8",brown:"#bd7b46",greenPale:"#ddf4df",yellowPale:"#fff0d5",redPale:"#ffe5e0",bluePale:"#ddf3f5",brownPale:"#f7ebe1",purplePale:"#f5eeff",light:"#fff",dark:"#353535",success:"#38b03f",warning:"#f1a325",danger:"#ea644a",info:"#03b8cf",important:"#bd7b46",special:"#8666b8",successPale:"#ddf4df",warningPale:"#fff0d5",dangerPale:"#ffe5e0",infoPale:"#ddf3f5",importantPale:"#f7ebe1",specialPale:"#f5eeff"};a.get=function(i){return("undefined"==typeof i||"random"===i)&&(i=n[t++%n.length]),new e.zui.Color(a[i]?a[i]:i)},e.zui({colorset:a}),e.zui.Color&&e.extend(e.zui.Color,a)}(jQuery);